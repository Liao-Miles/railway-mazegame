<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>遊戲說明</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="/assets/css/index.css" />
</head>
<body>
<h2>遊戲說明</h2>

<div class="container">
  <div class="left">
    <h3>遊戲目標</h3>
    <p>在限時內找到出口，避開怪物並盡可能獲得高分！</p>

    <h3>操作方式</h3>
    <ul>
      <li>W / A / S / D：移動角色</li>
      <li>F：使用提燈，照亮周圍（次數有限）</li>
    </ul>
  </div>

  <div class="right">
    <h3>遊戲規則</h3>
    <ul>
      <li>怪物會在迷宮中巡邏，被抓到遊戲結束</li>
      <li>安全屋：怪物無法進入，進入後可暫停時間並短暫點亮地圖</li>
      <li>找到所有安全屋後，地圖將永久點亮</li>
      <li>鑽石：收集可獲得額外分數</li>
      <li>提燈：有限資源，請謹慎使用</li>
      <li>分數來源：剩餘時間、鑽石、提燈</li>
    </ul>
  </div>
</div>

  <p>
    <button class="menu-btn" data-sound="click" data-jump="index.html">返回首頁</button>
  </p>
          <span id="playerIdDisplay" class="text-primary fw-bold"></span>

    <!-- 玩家資訊框 -->
  <div id="playerInfo" class="player-info hidden">
    <p id="playerName"></p>
  </div>

  <script type="module">
    import SoundManager from './assets/js/soundManager.js';
    SoundManager.load('click', '/assets/audio/select-sound-fixed-extended.mp3', 0.8);

    // 顯示玩家資訊框
    window.showPlayerInfo = function (playerName) {
      const playerInfo = document.getElementById('playerInfo');
      const playerNameElement = document.getElementById('playerName');
      if (playerInfo && playerNameElement) {
        playerNameElement.textContent = `玩家: ${playerName}`;
        playerInfo.classList.remove('hidden');
      }
    };

    // 檢查登入狀態
    window.onload = function () {
      let playerId = localStorage.getItem('playerId');
      let playerName = localStorage.getItem('playerName');
      const playerIdDisplay = document.getElementById('playerIdDisplay');
      if (playerId && playerName) {
        showPlayerInfo(playerName);
      } else {
        playerIdDisplay.textContent = ''; // 確保未登入時不顯示玩家名稱
      }
    };

    SoundManager.autoBind(280);
  </script>
</body>
</html>
